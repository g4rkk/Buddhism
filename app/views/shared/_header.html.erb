<header>
  <nav class="navbar is-warning" role="navigation" aria-label="main navigation">
    <div class="container">
      <div class="navbar-brand">
        <%= link_to root_path, class: "navbar-item" do %>
          <h1 class="title is-4" style="font-family: cursive;">仏教の世界</h1>
        <% end %>

        <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navbarBasicExample">
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
          <span aria-hidden="true"></span>
        </a>
      </div>

      <div id="navbarBasicExample" class="navbar-menu">
        <div class="navbar-start">
          <%= link_to "ホーム", root_path, class: "navbar-item" %>
          <%= link_to "瞑想ガイド", meditation_guides_path, class: "navbar-item" %>

          <%= link_to "仏教入門", books_path, class: "navbar-item" %>

          <%= link_to "ブックマーク", bookmarks_books_path, class: "navbar-item" %>

          <!-- 新增仏教仲間探し和日本国内の仏教参拝マップ链接 -->
          <%= link_to "仏教仲間探し", nearby_users_path, class: "navbar-item" %>
          <%= link_to "仏教参拝マップ", buddhist_sites_path, class: "navbar-item" %>
        </div>

        <div class="navbar-end">
          <div class="navbar-item">
            <div class="buttons">
              <% if user_signed_in? %>
                <%= link_to "マイページ", user_path(current_user), class: "button is-primary" %>
                <%= button_to "ログアウト", destroy_user_session_path, method: :delete, class: "button is-light" %>
              <% else %>
                <%= link_to "新規登録", new_user_registration_path, class: "button is-primary" %>
                <%= link_to "ログイン", new_user_session_path, class: "button is-light" %>
              <% end %>
            </div>
          </div>
        </div>
      </div>
    </div>
  </nav>

  <!-- JavaScript to handle the burger menu toggle -->
  <script>
      document.addEventListener('DOMContentLoaded', () => {
          const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);
          if ($navbarBurgers.length > 0) {
              $navbarBurgers.forEach(el => {
                  el.addEventListener('click', () => {
                      const target = el.dataset.target;
                      const $target = document.getElementById(target);
                      el.classList.toggle('is-active');
                      $target.classList.toggle('is-active');
                  });
              });
          }
      });
  </script>
  
</header>